<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Gamer - TechBrain</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        * {
            box-sizing: border-box;
        }
        
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Press Start 2P', cursive;
            background: url('https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
            background-size: cover;
            color: #00ff00;
            text-shadow: 0 0 5px #0f0;
        }
        
        .overlay {
            background: rgba(0, 0, 0, 0.85);
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: fadeIn 1s ease forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .hidden {
            display: none;
        }
        
        h1,
        h2 {
            text-align: center;
        }
        
        input,
        select,
        button {
            font-family: inherit;
            margin-bottom: 20px;
        }
        
        input[type=text],
        select {
            padding: 10px;
            width: 280px;
            font-size: 1rem;
            border: 2px solid #00ff00;
            background: transparent;
            color: #00ff00;
            outline: none;
            text-align: center;
        }
        
        button {
            padding: 12px 25px;
            border: 2px solid #00ff00;
            background: transparent;
            color: #00ff00;
            cursor: pointer;
            transition: .3s;
        }
        
        button:hover {
            background: #00ff00;
            color: #000;
        }
        
        #quiz-container,
        #quiz {
            max-width: 700px;
            width: 100%;
            background: rgba(0, 0, 0, 0.75);
            padding: 20px;
            border-radius: 8px;
            animation: slideIn 0.7s ease forwards;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .question,
        #question {
            font-size: 1.25rem;
            margin-bottom: 15px;
        }
        
        .options,
        #options {
            display: flex;
            flex-direction: column;
        }
        
        .option-btn,
        .option {
            margin: 8px 0;
            padding: 10px;
            font-size: 1rem;
            background: transparent;
            border: 2px solid #00ff00;
            color: #00ff00;
            cursor: pointer;
            border-radius: 5px;
            transition: .3s;
        }
        
        .option-btn:hover,
        .option:hover {
            background: #00ff00;
            color: #000;
        }
        
        .option-btn.correct {
            background: #0f0;
            color: #000;
            border-color: #0f0;
        }
        
        .option-btn.wrong {
            background: #f00;
            color: #fff;
            border-color: #f00;
        }
        
        #scoreboard,
        #timer {
            margin-top: 20px;
            font-size: 1.1rem;
        }
        
        #ranking {
            margin-top: 30px;
            max-width: 700px;
            background: rgba(0, 0, 0, 0.75);
            padding: 15px;
            border-radius: 8px;
        }
        
        #ranking h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        #ranking-list {
            list-style: none;
            padding: 0;
        }
        
        #ranking-list li {
            font-size: 1rem;
            border-bottom: 1px solid #00ff00;
            padding: 6px 0;
        }
        
        #result,
        #tips {
            margin-top: 20px;
            display: none;
            max-width: 700px;
        }
        
        #tips ul {
            padding-left: 20px;
        }
        
        @media(max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            #question {
                font-size: 1rem;
            }
            input,
            select,
            button,
            .option-btn,
            .option {
                width: 100%;
                font-size: .9rem;
                padding: 8px;
            }
        }
    </style>
</head>

<body>
    <div class="overlay" id="start-screen">
        <h1>Quiz Gamer - TechBrain</h1>
        <input type="text" id="player-name" placeholder="Digite seu nome..." maxlength="15" />
        <select id="level-select">
      <option value="easy">F√°cil</option>
      <option value="medium">M√©dio</option>
      <option value="hard">Dif√≠cil</option>
    </select>
        <select id="category-select">
      <option value="games">Games</option>
      <option value="programming">Programa√ß√£o</option>
      <option value="social">Engenharia Social</option>
    </select>
        <button id="start-btn">Come√ßar Quiz</button>
    </div>

    <div class="overlay hidden" id="quiz-screen">
        <div id="quiz-container">
            <div id="question"></div>
            <div class="options" id="options"></div>
            <div id="scoreboard">Pontua√ß√£o: 0</div>
            <div id="timer">‚è± Tempo: 15s</div>
            <button id="next-btn" disabled>Pr√≥xima</button>
        </div>
    </div>

    <div class="overlay hidden" id="end-screen">
        <h1>Fim do Quiz!</h1>
        <p id="final-score"></p>
        <div id="result">
            <h2 id="score-text"></h2>
            <button id="restart-btn">Jogar novamente</button>
        </div>
        <div id="tips">
            <h2>üõ° Dicas para n√£o cair em golpes</h2>
            <ul>
                <li>Nunca forne√ßa senhas por telefone, e-mail ou SMS.</li>
                <li>Verifique o remetente antes de clicar em links.</li>
                <li>Desconfie de ofertas boas demais para serem verdade.</li>
                <li>Use autentica√ß√£o em dois fatores (2FA).</li>
                <li>Participe de treinamentos de seguran√ßa digital.</li>
                <li>Confirme liga√ß√µes suspeitas ligando para canais oficiais.</li>
            </ul>
        </div>
    </div>

    <div id="ranking" class="hidden">
        <h2>Ranking dos Jogadores</h2>
        <ol id="ranking-list"></ol>
    </div>

    <audio id="click-sound" src="https://www.soundjay.com/button/beep-07.wav"></audio>
    <audio id="correct-sound" src="https://www.soundjay.com/button/beep-06.wav"></audio>
    <audio id="wrong-sound" src="https://www.soundjay.com/button/beep-10.wav"></audio>
    <audio id="timeout-sound" src="https://www.soundjay.com/button/beep-05.wav"></audio>

    <script>
        // Em breve: JavaScript unificado ser√° inserido aqui
        const playerNameInput = document.getElementById('player-name');
        const levelSelect = document.getElementById('level-select');
        const categorySelect = document.getElementById('category-select');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const quizScreen = document.getElementById('quiz-screen');
        const startScreen = document.getElementById('start-screen');
        const endScreen = document.getElementById('end-screen');
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const scoreboard = document.getElementById('scoreboard');
        const finalScoreEl = document.getElementById('final-score');
        const resultDiv = document.getElementById('result');
        const scoreText = document.getElementById('score-text');
        const restartBtn = document.getElementById('restart-btn');
        const rankingDiv = document.getElementById('ranking');
        const rankingList = document.getElementById('ranking-list');
        const timerEl = document.getElementById('timer');
        const tipsDiv = document.getElementById('tips');

        const clickSound = document.getElementById('click-sound');
        const correctSound = document.getElementById('correct-sound');
        const wrongSound = document.getElementById('wrong-sound');
        const timeoutSound = document.getElementById('timeout-sound');

        const bgMusic = new Audio("https://www.bensound.com/bensound-music/bensound-retrosoul.mp3");
        bgMusic.loop = true;
        bgMusic.volume = 0.3;

        let currentQuestions = [],
            currentIndex = 0,
            score = 0;
        let timer, timeLeft = 15;

        const questions = {
            easy: {
                games: [{
                    question: "Qual o console da Nintendo lan√ßado em 2020?",
                    options: ["Switch", "Wii U", "GameCube", "DS"],
                    answer: 0
                }, {
                    question: "Qual personagem √© o mascote da Sega?",
                    options: ["Mario", "Sonic", "Pac‚ÄëMan", "Mega Man"],
                    answer: 1
                }],
                programming: [{
                    question: "Qual desses √© um exemplo de linguagem de programa√ß√£o?",
                    options: ["Python", "HTML", "Google", "Wi‚ÄëFi"],
                    answer: 0
                }, {
                    question: "O que significa 'bug' na programa√ß√£o?",
                    options: ["Inseto no PC", "Erro no c√≥digo", "Acelerador", "Velocidade de internet"],
                    answer: 1
                }],
                social: [{
                    question: "O que √© engenharia social?",
                    options: ["Engenharia civil", "Manipula√ß√£o psicol√≥gica", "Sistema de criptografia", "Software de seguran√ßa"],
                    answer: 1
                }, {
                    question: "Qual √© o objetivo de um ataque de engenharia social?",
                    options: ["Ajudar o usu√°rio", "Melhorar performance", "Enganar para obter acesso", "Atualizar o SO"],
                    answer: 2
                }]
            },
            medium: {
                games: [{
                    question: "Qual a desenvolvedora de 'The Witcher 3'?",
                    options: ["Bethesda", "CD Projekt Red", "Ubisoft", "Rockstar Games"],
                    answer: 1
                }, {
                    question: "Em que jogo aparece 'Master Chief'?",
                    options: ["Halo", "Call of Duty", "Gears of War", "Destiny"],
                    answer: 0
                }],
                programming: [{
                    question: "Fun√ß√£o 'print()' em Python faz o qu√™?",
                    options: ["Apaga dados", "Imprime na tela", "Faz c√°lculos", "Cria vari√°veis"],
                    answer: 1
                }, {
                    question: "Extens√£o de arquivos Java?",
                    options: [".java", ".py", ".exe", ".js"],
                    answer: 0
                }],
                social: [{
                    question: "O que √© 'phishing'?",
                    options: ["Pescar online", "Mensagem falsa para dados", "Teste de seguran√ßa", "Antiv√≠rus"],
                    answer: 1
                }, {
                    question: "Exemplo de engenharia social?",
                    options: ["Atualiza√ß√£o de software", "Liga√ß√£o falsa do banco", "Formatar PC", "Instalar firewall"],
                    answer: 1
                }]
            },
            hard: {
                games: [{
                    question: "Motor gr√°fico de RDR2?",
                    options: ["Unreal", "Frostbite", "RAGE", "CryEngine"],
                    answer: 2
                }, {
                    question: "Ano de lan√ßamento do Dark Souls 1?",
                    options: ["2009", "2011", "2013", "2010"],
                    answer: 1
                }],
                programming: [{
                    question: "O que √© 'public static void main' em Java?",
                    options: ["Vari√°vel", "Fun√ß√£o principal", "Erro", "Biblioteca"],
                    answer: 1
                }, {
                    question: "La√ßo condicional em Python?",
                    options: ["for", "while", "loop", "repeat"],
                    answer: 1
                }],
                social: [{
                    question: "Shoulder Surfing √©:",
                    options: ["Observar senha", "V√≠rus", "Phishing", "Spoofing"],
                    answer: 0
                }, {
                    question: "Melhor defesa contra golpes?",
                    options: ["Firewall", "Antiv√≠rus", "Educa√ß√£o do usu√°rio", "Desligar o PC"],
                    answer: 2
                }]
            }
        };

        function shuffle(arr) {
            const a = [...arr];
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }

        startBtn.addEventListener('click', () => {
            const name = playerNameInput.value.trim();
            if (!name) return alert('Por favor, digite seu nome.');
            const level = levelSelect.value;
            const category = categorySelect.value;
            currentQuestions = shuffle(questions[level][category]);
            currentIndex = 0;
            score = 0;
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            bgMusic.play();
            showQuestion();
            updateScore();
        });

        nextBtn.addEventListener('click', () => {
            currentIndex++;
            if (currentIndex >= currentQuestions.length) endQuiz();
            else {
                showQuestion();
                nextBtn.disabled = true;
            }
        });

        function showQuestion() {
            clearInterval(timer);
            const q = currentQuestions[currentIndex];
            questionEl.textContent = `(${currentIndex + 1}/${currentQuestions.length}) ${q.question}`;
            optionsEl.innerHTML = '';
            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt;
                btn.addEventListener('click', () => {
                    clickSound.currentTime = 0;
                    clickSound.play();
                    checkAnswer(i);
                });
                optionsEl.appendChild(btn);
            });
            timeLeft = 15;
            updateTimer();
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                if (timeLeft === 0) {
                    clearInterval(timer);
                    timeoutSound.play();
                    checkAnswer(-1);
                }
            }, 1000);
        }

        function updateTimer() {
            timerEl.textContent = `‚è± Tempo: ${timeLeft}s`;
        }

        function checkAnswer(selected) {
            clearInterval(timer);
            const q = currentQuestions[currentIndex];
            const buttons = optionsEl.querySelectorAll('button');
            buttons.forEach((btn, i) => {
                btn.disabled = true;
                if (i === q.answer) btn.classList.add('correct');
                else if (i === selected) btn.classList.add('wrong');
            });
            if (selected === q.answer) {
                score++;
                correctSound.play();
            } else if (selected !== -1) {
                wrongSound.play();
            }
            updateScore();
            nextBtn.disabled = false;
        }

        function updateScore() {
            scoreboard.textContent = `Pontua√ß√£o: ${score}`;
        }

        function endQuiz() {
            clearInterval(timer);
            quizScreen.classList.add('hidden');
            endScreen.classList.remove('hidden');
            finalScoreEl.textContent = `${playerNameInput.value}, voc√™ acertou ${score} de ${currentQuestions.length}!`;
            scoreText.textContent = `Voc√™ acertou ${score} de ${currentQuestions.length} perguntas!`;
            tipsDiv.style.display = 'block';
            saveRanking(playerNameInput.value, score);
            showRanking();
        }

        restartBtn.addEventListener('click', () => {
            endScreen.classList.add('hidden');
            rankingDiv.classList.add('hidden');
            startScreen.classList.remove('hidden');
            tipsDiv.style.display = 'none';
            playerNameInput.value = '';
        });

        function saveRanking(name, score) {
            const arr = JSON.parse(localStorage.getItem('quizRanking')) || [];
            arr.push({
                name,
                score
            });
            arr.sort((a, b) => b.score - a.score);
            localStorage.setItem('quizRanking', JSON.stringify(arr.slice(0, 10)));
        }

        function showRanking() {
            const arr = JSON.parse(localStorage.getItem('quizRanking')) || [];
            rankingList.innerHTML = '';
            arr.forEach((p, i) => {
                const li = document.createElement('li');
                li.textContent = `${i + 1}. ${p.name} ‚Äî ${p.score} pts`;
                rankingList.appendChild(li);
            });
            rankingDiv.classList.remove('hidden');
        }
    </script>
</body>

</html>
